
---
title: 13. 零碎的但好用的api
date: 2019-04-18
tags: [常用的API]
categories: 重学前端系列笔记
cover: "https://cdn.nlark.com/yuque/0/2019/jpeg/221851/1555663610042-6f4bd0ac-4e08-4fcd-8823-03cc57af3003.jpeg"
---

记录一下工作中常用，但是不好归纳的 **`API`** 

<!-- more -->
<a name="58f055cd"></a>
### 样式表
```javascript
console.log(document.styleSheets)
/* 可以获取当前页面的样式表 */
```

<a name="fe7fef1d"></a>
### 获取包裹元素盒的宽高
> 我们常说的获取宽高，其实是获取包裹元素盒子的宽高，元素是没有宽高的，只有盒子有宽高

* **`getClientRects()`**`x、y`** 是相对于浏览器视口来定的，是个相对的数值
* **`getBoundingClintRect()`** ：返回的是一个对象，里面同样是盒子所占据区域的尺寸

两者不同的地方在于，一个是返回列表，一个是直接返回的对象
<a name="738bd8cf"></a>
### 获取联网情况
<a name="df66e53e"></a>
#### navigator.onLine（联网的时候触发）
<a name="feaca892"></a>
#### navigator.offLine（连不上网的时候触发）
```javascript
window.addEventListener('online',Function, true);
window.addEventListener('offline', Function , true);
```
> 注意: **`navigator.onLine`** 只会在机器未连接到局域网或路由器时返回 **`false`**，其他情况下均返回 **`true`**。 也就是说，机器连接上路由器后，即使这个路由器没联通网络，**`navigator.onLine`** 仍然返回 **`true`**。

<a name="ca7be09f"></a>
### 元素可编辑（contenteditable）
> HTML 给全局提供了可以让普通的元素可以像input输入框那种，可以输入文字

```html
<div contenteditable="true">可编辑</div>
```
<a name="2547bb16"></a>
### 获取当前语言（navigator.language）
> 它基于系统语言设置

```javascript
console.log(navigator.language) // 具体的语言值是根据系统来的
```
<a name="728dc0aa"></a>
### 使得页面震动（window.navigator.vibrate(_pattern_)）
```javascript
var successBool = window.navigator.vibrate(pattern);// 兼容性不是很好 
/*传递一个 0、一个空数组或者一个元素全部为 0 的数组会结束当前正在运行中的震动模式。*/
```


